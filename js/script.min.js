!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){"use strict";var t=!1,i=!1,o=0,r=2e3,s=0,n=e,a=document,l=window,c=n(l),d=[],u=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,h=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(u)l.cancelAnimationFrame||(h=function(e){});else{var p=0;u=function(e,t){var i=(new Date).getTime(),o=Math.max(0,16-(i-p)),r=l.setTimeout((function(){e(i+o)}),o);return p=i+o,r},h=function(e){l.clearTimeout(e)}}var f=l.MutationObserver||l.WebKitMutationObserver||!1,m=Date.now||function(){return(new Date).getTime()},v={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=a.currentScript||function(){var e=a.getElementsByTagName("script");return!!e.length&&e[e.length-1]}(),t=e?e.src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},g=!1,b=function(){if(g)return g;var e=a.createElement("DIV"),t=e.style,i=navigator.userAgent,o=navigator.platform,r={};return r.haspointerlock="pointerLockElement"in a||"webkitPointerLockElement"in a||"mozPointerLockElement"in a,r.isopera="opera"in l,r.isopera12=r.isopera&&"getUserMedia"in navigator,r.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini),r.isie="all"in a&&"attachEvent"in e&&!r.isopera,r.isieold=r.isie&&!("msInterpolationMode"in t),r.isie7=r.isie&&!r.isieold&&(!("documentMode"in a)||7===a.documentMode),r.isie8=r.isie&&"documentMode"in a&&8===a.documentMode,r.isie9=r.isie&&"performance"in l&&9===a.documentMode,r.isie10=r.isie&&"performance"in l&&10===a.documentMode,r.isie11="msRequestFullscreen"in e&&a.documentMode>=11,r.ismsedge="msCredentials"in l,r.ismozilla="MozAppearance"in t,r.iswebkit=!r.ismsedge&&"WebkitAppearance"in t,r.ischrome=r.iswebkit&&"chrome"in l,r.ischrome38=r.ischrome&&"touchAction"in t,r.ischrome22=!r.ischrome38&&r.ischrome&&r.haspointerlock,r.ischrome26=!r.ischrome38&&r.ischrome&&"transition"in t,r.cantouch="ontouchstart"in a.documentElement||"ontouchstart"in l,r.hasw3ctouch=!!l.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),r.hasmstouch=!r.hasw3ctouch&&(l.MSPointerEvent||!1),r.ismac=/^mac$/i.test(o),r.isios=r.cantouch&&/iphone|ipad|ipod/i.test(o),r.isios4=r.isios&&!("seal"in Object),r.isios7=r.isios&&"webkitHidden"in a,r.isios8=r.isios&&"hidden"in a,r.isios10=r.isios&&l.Proxy,r.isandroid=/android/i.test(i),r.haseventlistener="addEventListener"in e,r.trstyle=!1,r.hastransform=!1,r.hastranslate3d=!1,r.transitionstyle=!1,r.hastransition=!1,r.transitionend=!1,r.trstyle="transform",r.hastransform="transform"in t||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],i=0,o=e.length;i<o;i++)if(void 0!==t[e[i]]){r.trstyle=e[i];break}r.hastransform=!!r.trstyle}(),r.hastransform&&(t[r.trstyle]="translate3d(1px,2px,3px)",r.hastranslate3d=/translate3d/.test(t[r.trstyle])),r.transitionstyle="transition",r.prefixstyle="",r.transitionend="transitionend",r.hastransition="transition"in t||function(){r.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],i=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],o=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],s=0,n=e.length;s<n;s++)if(e[s]in t){r.transitionstyle=e[s],r.prefixstyle=i[s],r.transitionend=o[s];break}r.ischrome26&&(r.prefixstyle=i[1]),r.hastransition=r.transitionstyle}(),r.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(r.ischrome&&!r.ischrome38||r.isie)&&(e=[]);for(var i=0,o=e.length;i<o;i++){var s=e[i];if(t.cursor=s,t.cursor==s)return s}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),r.hasmousecapture="setCapture"in e,r.hasMutationObserver=!1!==f,e=null,g=r,r},w=function(e,p){function g(){var e=S.doc.css(L.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function w(e,t,i){var o=e.css(t),r=parseFloat(o);if(isNaN(r)){var s=3==(r=B[o]||0)?i?S.win.outerHeight()-S.win.innerHeight():S.win.outerWidth()-S.win.innerWidth():1;return S.isie8&&r&&(r+=1),s?r:0}return r}function x(e,t,i,o){S._bind(e,t,(function(o){var r={original:o=o||l.event,target:o.target||o.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==o.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return o.preventDefault?o.preventDefault():o.returnValue=!1,!1},stopImmediatePropagation:function(){o.stopImmediatePropagation?o.stopImmediatePropagation():o.cancelBubble=!0}};return"mousewheel"==t?(o.wheelDeltaX&&(r.deltaX=-.025*o.wheelDeltaX),o.wheelDeltaY&&(r.deltaY=-.025*o.wheelDeltaY),!r.deltaY&&!r.deltaX&&(r.deltaY=-.025*o.wheelDelta)):r.deltaY=o.detail,i.call(e,r)}),o)}function $(e,t,i,o){S.scrollrunning||(S.newscrolly=S.getScrollTop(),S.newscrollx=S.getScrollLeft(),H=m());var r=m()-H;if(H=m(),r>350?Y=1:Y+=(2-Y)/10,t=t*Y|0,e=e*Y|0){if(o)if(e<0){if(S.getScrollLeft()>=S.page.maxw)return!0}else if(S.getScrollLeft()<=0)return!0;var s=e>0?1:-1;R!==s&&(S.scrollmom&&S.scrollmom.stop(),S.newscrollx=S.getScrollLeft(),R=s),S.lastdeltax-=e}if(t){if(function(){var e=S.getScrollTop();if(t<0){if(e>=S.page.maxh)return!0}else if(e<=0)return!0}()){if(T.nativeparentscrolling&&i&&!S.ispage&&!S.zoomactive)return!0;var n=S.view.h>>1;S.newscrolly<-n?(S.newscrolly=-n,t=-1):S.newscrolly>S.page.maxh+n?(S.newscrolly=S.page.maxh+n,t=1):t=0}var a=t>0?1:-1;I!==a&&(S.scrollmom&&S.scrollmom.stop(),S.newscrolly=S.getScrollTop(),I=a),S.lastdeltay-=t}(t||e)&&S.synched("relativexy",(function(){var e=S.lastdeltay+S.newscrolly;S.lastdeltay=0;var t=S.lastdeltax+S.newscrollx;S.lastdeltax=0,S.rail.drag||S.doScrollPos(t,e)}))}function k(e,t,i){var o,r;return!(i||!q)||(0===e.deltaMode?(o=-e.deltaX*(T.mousescrollstep/54)|0,r=-e.deltaY*(T.mousescrollstep/54)|0):1===e.deltaMode&&(o=-e.deltaX*T.mousescrollstep*50/80|0,r=-e.deltaY*T.mousescrollstep*50/80|0),t&&T.oneaxismousemode&&0===o&&r&&(o=r,r=0,i&&(o<0?S.getScrollLeft()>=S.page.maxw:S.getScrollLeft()<=0)&&(r=o,o=0)),S.isrtlmode&&(o=-o),$(o,r,i,!0)?void(i&&(q=!0)):(q=!1,e.stopImmediatePropagation(),e.preventDefault()))}var S=this;this.version="3.7.6",this.name="nicescroll",this.me=p;var C=n("body"),T=this.opt={doc:C,win:!1};if(n.extend(T,v),T.snapbackspeed=80,e)for(var _ in T)void 0!==e[_]&&(T[_]=e[_]);if(T.disablemutationobserver&&(f=!1),this.doc=T.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(T.win?T.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==T.win,this.win=T.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=C,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=T.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==T.rtlmode){var z=this.win[0]==l?this.body:this.win,E=z.css("writing-mode")||z.css("-webkit-writing-mode")||z.css("-ms-writing-mode")||z.css("-moz-writing-mode");"horizontal-tb"==E||"lr-tb"==E||""===E?(this.isrtlmode="rtl"==z.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==E||"tb"==E||"tb-rl"==E||"rl-tb"==E,this.isvertical="vertical-rl"==E||"tb"==E||"tb-rl"==E)}else this.isrtlmode=!0===T.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==T.scrollbarid)this.id=T.scrollbarid;else do{this.id="ascrail"+r++}while(a.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=T.overflowx,this.overflowy=T.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=b();var L=n.extend({},this.detected);this.canhwscroll=L.hastransform&&T.hwacceleration,this.ishwscroll=this.canhwscroll&&S.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(L.iswebkit||L.isie||L.isie11):this.hasreversehr=!(L.iswebkit||L.isie&&!L.isie10&&!L.isie11):this.hasreversehr=!1,this.istouchcapable=!1,(L.cantouch||!L.hasw3ctouch&&!L.hasmstouch)&&(!L.cantouch||L.isios||L.isandroid||!L.iswebkit&&!L.ismozilla)||(this.istouchcapable=!0),T.enablemouselockapi||(L.hasmousecapture=!1,L.haspointerlock=!1),this.debounced=function(e,t,i){S&&(S.delaylist[e]||(S.delaylist[e]={h:u((function(){S.delaylist[e].fn.call(S),S.delaylist[e]=!1}),i)},t.call(S)),S.delaylist[e].fn=t)},this.synched=function(e,t){S.synclist[e]?S.synclist[e]=t:(S.synclist[e]=t,u((function(){S&&(S.synclist[e]&&S.synclist[e].call(S),S.synclist[e]=null)})))},this.unsynched=function(e){S.synclist[e]&&(S.synclist[e]=!1)},this.css=function(e,t){for(var i in t)S.saved.css.push([e,i,e.css(i)]),e.css(i,t[i])},this.scrollTop=function(e){return void 0===e?S.getScrollTop():S.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?S.getScrollLeft():S.setScrollLeft(e)};var M=function(e,t,i,o,r,s,n){this.st=e,this.ed=t,this.spd=i,this.p1=o||0,this.p2=r||1,this.p3=s||0,this.p4=n||1,this.ts=m(),this.df=t-e};if(M.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(m()-this.ts)/this.spd},getNow:function(){var e=(m()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e>=1?this.ed:this.st+this.df*t|0},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=m(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},L.hastranslate3d&&L.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=g();if(t)return 16==t.length?-t[13]:-t[5];if(S.timerscroll&&S.timerscroll.bz)return S.timerscroll.bz.getNow()}return S.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=g();if(t)return 16==t.length?-t[12]:-t[4];if(S.timerscroll&&S.timerscroll.bh)return S.timerscroll.bh.getNow()}return S.doc.translate.x},this.notifyScrollEvent=function(e){var t=a.createEvent("UIEvents");t.initUIEvent("scroll",!1,!1,l,1),t.niceevent=!0,e.dispatchEvent(t)};var P=this.isrtlmode?1:-1;L.hastranslate3d&&T.enabletranslate3d?(this.setScrollTop=function(e,t){S.doc.translate.y=e,S.doc.translate.ty=-1*e+"px",S.doc.css(L.trstyle,"translate3d("+S.doc.translate.tx+","+S.doc.translate.ty+",0)"),t||S.notifyScrollEvent(S.win[0])},this.setScrollLeft=function(e,t){S.doc.translate.x=e,S.doc.translate.tx=e*P+"px",S.doc.css(L.trstyle,"translate3d("+S.doc.translate.tx+","+S.doc.translate.ty+",0)"),t||S.notifyScrollEvent(S.win[0])}):(this.setScrollTop=function(e,t){S.doc.translate.y=e,S.doc.translate.ty=-1*e+"px",S.doc.css(L.trstyle,"translate("+S.doc.translate.tx+","+S.doc.translate.ty+")"),t||S.notifyScrollEvent(S.win[0])},this.setScrollLeft=function(e,t){S.doc.translate.x=e,S.doc.translate.tx=e*P+"px",S.doc.css(L.trstyle,"translate("+S.doc.translate.tx+","+S.doc.translate.ty+")"),t||S.notifyScrollEvent(S.win[0])})}else this.getScrollTop=function(){return S.docscroll.scrollTop()},this.setScrollTop=function(e){S.docscroll.scrollTop(e)},this.getScrollLeft=function(){return S.hasreversehr?S.detected.ismozilla?S.page.maxw-Math.abs(S.docscroll.scrollLeft()):S.page.maxw-S.docscroll.scrollLeft():S.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout((function(){if(S)return S.hasreversehr&&(e=S.detected.ismozilla?-(S.page.maxw-e):S.page.maxw-e),S.docscroll.scrollLeft(e)}),1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var i=e.target||e.srcElement||e||!1;i&&i.id!=t;)i=i.parentNode||!1;return!1!==i};var B={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||a.documentElement.scrollTop,left:l.pageXOffset||a.documentElement.scrollLeft}},this.getOffset=function(){if(S.isfixed){var e=S.win.offset(),t=S.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var i=S.win.offset();if(!S.viewport)return i;var o=S.viewport.offset();return{top:i.top-o.top,left:i.left-o.left}},this.updateScrollBar=function(e){var t,i;if(S.ishwscroll)S.rail.css({height:S.win.innerHeight()-(T.railpadding.top+T.railpadding.bottom)}),S.railh&&S.railh.css({width:S.win.innerWidth()-(T.railpadding.left+T.railpadding.right)});else{var o=S.getOffset();if((t={top:o.top,left:o.left-(T.railpadding.left+T.railpadding.right)}).top+=w(S.win,"border-top-width",!0),t.left+=S.rail.align?S.win.outerWidth()-w(S.win,"border-right-width")-S.rail.width:w(S.win,"border-left-width"),(i=T.railoffset)&&(i.top&&(t.top+=i.top),i.left&&(t.left+=i.left)),S.railslocked||S.rail.css({top:t.top,left:t.left,height:(e?e.h:S.win.innerHeight())-(T.railpadding.top+T.railpadding.bottom)}),S.zoom&&S.zoom.css({top:t.top+1,left:1==S.rail.align?t.left-20:t.left+S.rail.width+4}),S.railh&&!S.railslocked){t={top:o.top,left:o.left},(i=T.railhoffset)&&(i.top&&(t.top+=i.top),i.left&&(t.left+=i.left));var r=S.railh.align?t.top+w(S.win,"border-top-width",!0)+S.win.innerHeight()-S.railh.height:t.top+w(S.win,"border-top-width",!0),s=t.left+w(S.win,"border-left-width");S.railh.css({top:r-(T.railpadding.top+T.railpadding.bottom),left:s,width:S.railh.width})}}},this.doRailClick=function(e,t,i){var o,r,s,n;S.railslocked||(S.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+a.documentElement.scrollLeft,e.pageY=e.clientY+a.documentElement.scrollTop),t?(o=i?S.doScrollLeft:S.doScrollTop,s=i?(e.pageX-S.railh.offset().left-S.cursorwidth/2)*S.scrollratio.x:(e.pageY-S.rail.offset().top-S.cursorheight/2)*S.scrollratio.y,S.unsynched("relativexy"),o(0|s)):(o=i?S.doScrollLeftBy:S.doScrollBy,s=i?S.scroll.x:S.scroll.y,n=i?e.pageX-S.railh.offset().left:e.pageY-S.rail.offset().top,r=i?S.view.w:S.view.h,o(s>=n?r:-r)))},S.newscrolly=S.newscrollx=0,S.hasanimationframe="requestAnimationFrame"in l,S.hascancelanimationframe="cancelAnimationFrame"in l,S.hasborderbox=!1,this.init=function(){if(S.saved.css=[],L.isoperamini)return!0;if(L.isandroid&&!("hidden"in a))return!0;T.emulatetouch=T.emulatetouch||T.touchbehavior,S.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(a.body)["box-sizing"];var e={"overflow-y":"hidden"};if((L.isie11||L.isie10)&&(e["-ms-overflow-style"]="none"),S.ishwscroll&&(this.doc.css(L.transitionstyle,L.prefixstyle+"transform 0ms ease-out"),L.transitionend&&S.bind(S.doc,L.transitionend,S.onScrollTransitionEnd,!1)),S.zindex="auto",S.ispage||"auto"!=T.zindex?S.zindex=T.zindex:S.zindex=function(){var e=S.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!==t)return parseInt(t);e=e.parent()}return!1}()||"auto",!S.ispage&&"auto"!=S.zindex&&S.zindex>s&&(s=S.zindex),S.isie&&0===S.zindex&&"auto"==T.zindex&&(S.zindex="auto"),!S.ispage||!L.isieold){var r=S.docscroll;S.ispage&&(r=S.haswrapper?S.win:S.doc),S.css(r,e),S.ispage&&(L.isie11||L.isie)&&S.css(n("html"),e),!L.isios||S.ispage||S.haswrapper||S.css(C,{"-webkit-overflow-scrolling":"touch"});var d=n(a.createElement("div"));d.css({position:"relative",top:0,float:"right",width:T.cursorwidth,height:0,"background-color":T.cursorcolor,border:T.cursorborder,"background-clip":"padding-box","-webkit-border-radius":T.cursorborderradius,"-moz-border-radius":T.cursorborderradius,"border-radius":T.cursorborderradius}),d.addClass("nicescroll-cursors"),S.cursor=d;var u=n(a.createElement("div"));u.attr("id",S.id),u.addClass("nicescroll-rails nicescroll-rails-vr");var h,p,m=["left","right","top","bottom"];for(var v in m)p=m[v],(h=T.railpadding[p]||0)&&u.css("padding-"+p,h+"px");u.append(d),u.width=Math.max(parseFloat(T.cursorwidth),d.outerWidth()),u.css({width:u.width+"px",zIndex:S.zindex,background:T.background,cursor:"default"}),u.visibility=!0,u.scrollable=!0,u.align="left"==T.railalign?0:1,S.rail=u,S.rail.drag=!1;var g,b=!1;if(!T.boxzoom||S.ispage||L.isieold||(b=a.createElement("div"),S.bind(b,"click",S.doZoom),S.bind(b,"mouseenter",(function(){S.zoom.css("opacity",T.cursoropacitymax)})),S.bind(b,"mouseleave",(function(){S.zoom.css("opacity",T.cursoropacitymin)})),S.zoom=n(b),S.zoom.css({cursor:"pointer",zIndex:S.zindex,backgroundImage:"url("+T.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),T.dblclickzoom&&S.bind(S.win,"dblclick",S.doZoom),L.cantouch&&T.gesturezoom&&(S.ongesturezoom=function(e){return e.scale>1.5&&S.doZoomIn(e),e.scale<.8&&S.doZoomOut(e),S.cancelEvent(e)},S.bind(S.win,"gestureend",S.ongesturezoom))),S.railh=!1,T.horizrailenabled&&(S.css(r,{overflowX:"hidden"}),(d=n(a.createElement("div"))).css({position:"absolute",top:0,height:T.cursorwidth,width:0,backgroundColor:T.cursorcolor,border:T.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":T.cursorborderradius,"-moz-border-radius":T.cursorborderradius,"border-radius":T.cursorborderradius}),L.isieold&&d.css("overflow","hidden"),d.addClass("nicescroll-cursors"),S.cursorh=d,(g=n(a.createElement("div"))).attr("id",S.id+"-hr"),g.addClass("nicescroll-rails nicescroll-rails-hr"),g.height=Math.max(parseFloat(T.cursorwidth),d.outerHeight()),g.css({height:g.height+"px",zIndex:S.zindex,background:T.background}),g.append(d),g.visibility=!0,g.scrollable=!0,g.align="top"==T.railvalign?0:1,S.railh=g,S.railh.drag=!1),S.ispage)u.css({position:"fixed",top:0,height:"100%"}),u.css(u.align?{right:0}:{left:0}),S.body.append(u),S.railh&&(g.css({position:"fixed",left:0,width:"100%"}),g.css(g.align?{bottom:0}:{top:0}),S.body.append(g));else{if(S.ishwscroll){"static"==S.win.css("position")&&S.css(S.win,{position:"relative"});var w="HTML"==S.win[0].nodeName?S.body:S.win;n(w).scrollTop(0).scrollLeft(0),S.zoom&&(S.zoom.css({position:"absolute",top:1,right:0,"margin-right":u.width+4}),w.append(S.zoom)),u.css({position:"absolute",top:0}),u.css(u.align?{right:0}:{left:0}),w.append(u),g&&(g.css({position:"absolute",left:0,bottom:0}),g.css(g.align?{bottom:0}:{top:0}),w.append(g))}else{S.isfixed="fixed"==S.win.css("position");var x=S.isfixed?"fixed":"absolute";S.isfixed||(S.viewport=S.getViewport(S.win[0])),S.viewport&&(S.body=S.viewport,/fixed|absolute/.test(S.viewport.css("position"))||S.css(S.viewport,{position:"relative"})),u.css({position:x}),S.zoom&&S.zoom.css({position:x}),S.updateScrollBar(),S.body.append(u),S.zoom&&S.body.append(S.zoom),S.railh&&(g.css({position:x}),S.body.append(g))}L.isios&&S.css(S.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),T.disableoutline&&(L.isie&&S.win.attr("hideFocus","true"),L.iswebkit&&S.win.css("outline","none"))}if(!1===T.autohidemode?(S.autohidedom=!1,S.rail.css({opacity:T.cursoropacitymax}),S.railh&&S.railh.css({opacity:T.cursoropacitymax})):!0===T.autohidemode||"leave"===T.autohidemode?(S.autohidedom=n().add(S.rail),L.isie8&&(S.autohidedom=S.autohidedom.add(S.cursor)),S.railh&&(S.autohidedom=S.autohidedom.add(S.railh)),S.railh&&L.isie8&&(S.autohidedom=S.autohidedom.add(S.cursorh))):"scroll"==T.autohidemode?(S.autohidedom=n().add(S.rail),S.railh&&(S.autohidedom=S.autohidedom.add(S.railh))):"cursor"==T.autohidemode?(S.autohidedom=n().add(S.cursor),S.railh&&(S.autohidedom=S.autohidedom.add(S.cursorh))):"hidden"==T.autohidemode&&(S.autohidedom=!1,S.hide(),S.railslocked=!1),L.cantouch||S.istouchcapable||T.emulatetouch||L.hasmstouch){S.scrollmom=new y(S),S.ontouchstart=function(e){if(S.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(S.hasmoving=!1,S.scrollmom.timer&&(S.triggerScrollEnd(),S.scrollmom.stop()),!S.railslocked){var t=S.getTarget(e);if(t&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return S.stopPropagation(e);var i="mousedown"===e.type;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),S.forcescreen){var o=e;(e={original:e.original?e.original:e}).clientX=o.screenX,e.clientY=o.screenY}if(S.rail.drag={x:e.clientX,y:e.clientY,sx:S.scroll.x,sy:S.scroll.y,st:S.getScrollTop(),sl:S.getScrollLeft(),pt:2,dl:!1,tg:t},S.ispage||!T.directionlockdeadzone)S.rail.drag.dl="f";else{var r={w:c.width(),h:c.height()},s=S.getContentSize(),a=s.h-r.h,l=s.w-r.w;S.rail.scrollable&&!S.railh.scrollable?S.rail.drag.ck=a>0&&"v":!S.rail.scrollable&&S.railh.scrollable?S.rail.drag.ck=l>0&&"h":S.rail.drag.ck=!1}if(T.emulatetouch&&S.isiframe&&L.isie){var d=S.win.position();S.rail.drag.x+=d.left,S.rail.drag.y+=d.top}if(S.hasmoving=!1,S.lastmouseup=!1,S.scrollmom.reset(e.clientX,e.clientY),t&&i){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(t.nodeName))return L.hasmousecapture&&t.setCapture(),T.emulatetouch?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){if(S.hasmoving)return!1;t._onclick.call(this,e)}),S.cancelEvent(e)):S.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(n(t).attr("type"))&&(S.preventclick={tg:t,click:!1})}}},S.ontouchend=function(e){if(!S.rail.drag)return!0;if(2==S.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;S.rail.drag=!1;var t="mouseup"===e.type;if(S.hasmoving&&(S.scrollmom.doMomentum(),S.lastmouseup=!0,S.hideCursor(),L.hasmousecapture&&a.releaseCapture(),t))return S.cancelEvent(e)}else if(1==S.rail.drag.pt)return S.onmouseup(e)};var $=T.emulatetouch&&S.isiframe&&!L.hasmousecapture,k=.3*T.directionlockdeadzone|0;S.ontouchmove=function(e,t){if(!S.rail.drag)return!0;if(e.targetTouches&&T.preventmultitouchscrolling&&e.targetTouches.length>1)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2==S.rail.drag.pt){var i,o;if("changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),o=i=0,$&&!t){var r=S.win.position();o=-r.left,i=-r.top}var s=e.clientY+i,n=s-S.rail.drag.y,l=e.clientX+o,c=l-S.rail.drag.x,d=S.rail.drag.st-n;if(S.ishwscroll&&T.bouncescroll)d<0?d=Math.round(d/2):d>S.page.maxh&&(d=S.page.maxh+Math.round((d-S.page.maxh)/2));else if(d<0?(d=0,s=0):d>S.page.maxh&&(d=S.page.maxh,s=0),0===s&&!S.hasmoving)return S.ispage||(S.rail.drag=!1),!0;var u=S.getScrollLeft();if(S.railh&&S.railh.scrollable&&(u=S.isrtlmode?c-S.rail.drag.sl:S.rail.drag.sl-c,S.ishwscroll&&T.bouncescroll?u<0?u=Math.round(u/2):u>S.page.maxw&&(u=S.page.maxw+Math.round((u-S.page.maxw)/2)):(u<0&&(u=0,l=0),u>S.page.maxw&&(u=S.page.maxw,l=0))),!S.hasmoving){if(S.rail.drag.y===e.clientY&&S.rail.drag.x===e.clientX)return S.cancelEvent(e);var h=Math.abs(n),p=Math.abs(c),f=T.directionlockdeadzone;if(S.rail.drag.ck?"v"==S.rail.drag.ck?p>f&&h<=k?S.rail.drag=!1:h>f&&(S.rail.drag.dl="v"):"h"==S.rail.drag.ck&&(h>f&&p<=k?S.rail.drag=!1:p>f&&(S.rail.drag.dl="h")):h>f&&p>f?S.rail.drag.dl="f":h>f?S.rail.drag.dl=p>k?"f":"v":p>f&&(S.rail.drag.dl=h>k?"f":"h"),!S.rail.drag.dl)return S.cancelEvent(e);S.triggerScrollStart(e.clientX,e.clientY,0,0,0),S.hasmoving=!0}return S.preventclick&&!S.preventclick.click&&(S.preventclick.click=S.preventclick.tg.onclick||!1,S.preventclick.tg.onclick=S.onpreventclick),S.rail.drag.dl&&("v"==S.rail.drag.dl?u=S.rail.drag.sl:"h"==S.rail.drag.dl&&(d=S.rail.drag.st)),S.synched("touchmove",(function(){S.rail.drag&&2==S.rail.drag.pt&&(S.prepareTransition&&S.resetTransition(),S.rail.scrollable&&S.setScrollTop(d),S.scrollmom.update(l,s),S.railh&&S.railh.scrollable?(S.setScrollLeft(u),S.showCursor(d,u)):S.showCursor(d),L.isie10&&a.selection.clear())})),S.cancelEvent(e)}return 1==S.rail.drag.pt?S.onmousemove(e):void 0},S.ontouchstartCursor=function(e,t){if(!S.rail.drag||3==S.rail.drag.pt){if(S.locked)return S.cancelEvent(e);S.cancelScroll(),S.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:S.scroll.x,sy:S.scroll.y,pt:3,hr:!!t};var i=S.getTarget(e);return!S.ispage&&L.hasmousecapture&&i.setCapture(),S.isiframe&&!L.hasmousecapture&&(S.saved.csspointerevents=S.doc.css("pointer-events"),S.css(S.doc,{"pointer-events":"none"})),S.cancelEvent(e)}},S.ontouchendCursor=function(e){if(S.rail.drag){if(L.hasmousecapture&&a.releaseCapture(),S.isiframe&&!L.hasmousecapture&&S.doc.css("pointer-events",S.saved.csspointerevents),3!=S.rail.drag.pt)return;return S.rail.drag=!1,S.cancelEvent(e)}},S.ontouchmoveCursor=function(e){if(S.rail.drag){if(3!=S.rail.drag.pt)return;if(S.cursorfreezed=!0,S.rail.drag.hr){S.scroll.x=S.rail.drag.sx+(e.touches[0].clientX-S.rail.drag.x),S.scroll.x<0&&(S.scroll.x=0);var t=S.scrollvaluemaxw;S.scroll.x>t&&(S.scroll.x=t)}else{S.scroll.y=S.rail.drag.sy+(e.touches[0].clientY-S.rail.drag.y),S.scroll.y<0&&(S.scroll.y=0);var i=S.scrollvaluemax;S.scroll.y>i&&(S.scroll.y=i)}return S.synched("touchmove",(function(){S.rail.drag&&3==S.rail.drag.pt&&(S.showCursor(),S.rail.drag.hr?S.doScrollLeft(Math.round(S.scroll.x*S.scrollratio.x),T.cursordragspeed):S.doScrollTop(Math.round(S.scroll.y*S.scrollratio.y),T.cursordragspeed))})),S.cancelEvent(e)}}}if(S.onmousedown=function(e,t){if(!S.rail.drag||1==S.rail.drag.pt){if(S.railslocked)return S.cancelEvent(e);S.cancelScroll(),S.rail.drag={x:e.clientX,y:e.clientY,sx:S.scroll.x,sy:S.scroll.y,pt:1,hr:t||!1};var i=S.getTarget(e);return L.hasmousecapture&&i.setCapture(),S.isiframe&&!L.hasmousecapture&&(S.saved.csspointerevents=S.doc.css("pointer-events"),S.css(S.doc,{"pointer-events":"none"})),S.hasmoving=!1,S.cancelEvent(e)}},S.onmouseup=function(e){if(S.rail.drag)return 1!=S.rail.drag.pt||(L.hasmousecapture&&a.releaseCapture(),S.isiframe&&!L.hasmousecapture&&S.doc.css("pointer-events",S.saved.csspointerevents),S.rail.drag=!1,S.cursorfreezed=!1,S.hasmoving&&S.triggerScrollEnd(),S.cancelEvent(e))},S.onmousemove=function(e){if(S.rail.drag){if(1!==S.rail.drag.pt)return;if(L.ischrome&&0===e.which)return S.onmouseup(e);if(S.cursorfreezed=!0,S.hasmoving||S.triggerScrollStart(e.clientX,e.clientY,0,0,0),S.hasmoving=!0,S.rail.drag.hr){S.scroll.x=S.rail.drag.sx+(e.clientX-S.rail.drag.x),S.scroll.x<0&&(S.scroll.x=0);var t=S.scrollvaluemaxw;S.scroll.x>t&&(S.scroll.x=t)}else{S.scroll.y=S.rail.drag.sy+(e.clientY-S.rail.drag.y),S.scroll.y<0&&(S.scroll.y=0);var i=S.scrollvaluemax;S.scroll.y>i&&(S.scroll.y=i)}return S.synched("mousemove",(function(){S.cursorfreezed&&(S.showCursor(),S.rail.drag.hr?S.scrollLeft(Math.round(S.scroll.x*S.scrollratio.x)):S.scrollTop(Math.round(S.scroll.y*S.scrollratio.y)))})),S.cancelEvent(e)}S.checkarea=0},L.cantouch||T.emulatetouch)S.onpreventclick=function(e){if(S.preventclick)return S.preventclick.tg.onclick=S.preventclick.click,S.preventclick=!1,S.cancelEvent(e)},S.onclick=!L.isios&&function(e){return!S.lastmouseup||(S.lastmouseup=!1,S.cancelEvent(e))},T.grabcursorenabled&&L.cursorgrabvalue&&(S.css(S.ispage?S.doc:S.win,{cursor:L.cursorgrabvalue}),S.css(S.rail,{cursor:L.cursorgrabvalue}));else{var _=function(e){if(S.selectiondrag){if(e){var t=S.win.outerHeight(),i=e.pageY-S.selectiondrag.top;i>0&&i<t&&(i=0),i>=t&&(i-=t),S.selectiondrag.df=i}if(0!==S.selectiondrag.df){var o=-2*S.selectiondrag.df/6|0;S.doScrollBy(o),S.debounced("doselectionscroll",(function(){_()}),50)}}};S.hasTextSelected="getSelection"in a?function(){return a.getSelection().rangeCount>0}:"selection"in a?function(){return"None"!=a.selection.type}:function(){return!1},S.onselectionstart=function(e){S.ispage||(S.selectiondrag=S.win.offset())},S.onselectionend=function(e){S.selectiondrag=!1},S.onselectiondrag=function(e){S.selectiondrag&&S.hasTextSelected()&&S.debounced("selectionscroll",(function(){_(e)}),250)}}if(L.hasw3ctouch?(S.css(S.ispage?n("html"):S.win,{"touch-action":"none"}),S.css(S.rail,{"touch-action":"none"}),S.css(S.cursor,{"touch-action":"none"}),S.bind(S.win,"pointerdown",S.ontouchstart),S.bind(a,"pointerup",S.ontouchend),S.delegate(a,"pointermove",S.ontouchmove)):L.hasmstouch?(S.css(S.ispage?n("html"):S.win,{"-ms-touch-action":"none"}),S.css(S.rail,{"-ms-touch-action":"none"}),S.css(S.cursor,{"-ms-touch-action":"none"}),S.bind(S.win,"MSPointerDown",S.ontouchstart),S.bind(a,"MSPointerUp",S.ontouchend),S.delegate(a,"MSPointerMove",S.ontouchmove),S.bind(S.cursor,"MSGestureHold",(function(e){e.preventDefault()})),S.bind(S.cursor,"contextmenu",(function(e){e.preventDefault()}))):L.cantouch&&(S.bind(S.win,"touchstart",S.ontouchstart,!1,!0),S.bind(a,"touchend",S.ontouchend,!1,!0),S.bind(a,"touchcancel",S.ontouchend,!1,!0),S.delegate(a,"touchmove",S.ontouchmove,!1,!0)),T.emulatetouch&&(S.bind(S.win,"mousedown",S.ontouchstart,!1,!0),S.bind(a,"mouseup",S.ontouchend,!1,!0),S.bind(a,"mousemove",S.ontouchmove,!1,!0)),(T.cursordragontouch||!L.cantouch&&!T.emulatetouch)&&(S.rail.css({cursor:"default"}),S.railh&&S.railh.css({cursor:"default"}),S.jqbind(S.rail,"mouseenter",(function(){if(!S.ispage&&!S.win.is(":visible"))return!1;S.canshowonmouseevent&&S.showCursor(),S.rail.active=!0})),S.jqbind(S.rail,"mouseleave",(function(){S.rail.active=!1,S.rail.drag||S.hideCursor()})),T.sensitiverail&&(S.bind(S.rail,"click",(function(e){S.doRailClick(e,!1,!1)})),S.bind(S.rail,"dblclick",(function(e){S.doRailClick(e,!0,!1)})),S.bind(S.cursor,"click",(function(e){S.cancelEvent(e)})),S.bind(S.cursor,"dblclick",(function(e){S.cancelEvent(e)}))),S.railh&&(S.jqbind(S.railh,"mouseenter",(function(){if(!S.ispage&&!S.win.is(":visible"))return!1;S.canshowonmouseevent&&S.showCursor(),S.rail.active=!0})),S.jqbind(S.railh,"mouseleave",(function(){S.rail.active=!1,S.rail.drag||S.hideCursor()})),T.sensitiverail&&(S.bind(S.railh,"click",(function(e){S.doRailClick(e,!1,!0)})),S.bind(S.railh,"dblclick",(function(e){S.doRailClick(e,!0,!0)})),S.bind(S.cursorh,"click",(function(e){S.cancelEvent(e)})),S.bind(S.cursorh,"dblclick",(function(e){S.cancelEvent(e)}))))),T.cursordragontouch&&(this.istouchcapable||L.cantouch)&&(S.bind(S.cursor,"touchstart",S.ontouchstartCursor),S.bind(S.cursor,"touchmove",S.ontouchmoveCursor),S.bind(S.cursor,"touchend",S.ontouchendCursor),S.cursorh&&S.bind(S.cursorh,"touchstart",(function(e){S.ontouchstartCursor(e,!0)})),S.cursorh&&S.bind(S.cursorh,"touchmove",S.ontouchmoveCursor),S.cursorh&&S.bind(S.cursorh,"touchend",S.ontouchendCursor)),T.emulatetouch||L.isandroid||L.isios?(S.bind(L.hasmousecapture?S.win:a,"mouseup",S.ontouchend),S.onclick&&S.bind(a,"click",S.onclick),T.cursordragontouch?(S.bind(S.cursor,"mousedown",S.onmousedown),S.bind(S.cursor,"mouseup",S.onmouseup),S.cursorh&&S.bind(S.cursorh,"mousedown",(function(e){S.onmousedown(e,!0)})),S.cursorh&&S.bind(S.cursorh,"mouseup",S.onmouseup)):(S.bind(S.rail,"mousedown",(function(e){e.preventDefault()})),S.railh&&S.bind(S.railh,"mousedown",(function(e){e.preventDefault()})))):(S.bind(L.hasmousecapture?S.win:a,"mouseup",S.onmouseup),S.bind(a,"mousemove",S.onmousemove),S.onclick&&S.bind(a,"click",S.onclick),S.bind(S.cursor,"mousedown",S.onmousedown),S.bind(S.cursor,"mouseup",S.onmouseup),S.railh&&(S.bind(S.cursorh,"mousedown",(function(e){S.onmousedown(e,!0)})),S.bind(S.cursorh,"mouseup",S.onmouseup)),!S.ispage&&T.enablescrollonselection&&(S.bind(S.win[0],"mousedown",S.onselectionstart),S.bind(a,"mouseup",S.onselectionend),S.bind(S.cursor,"mouseup",S.onselectionend),S.cursorh&&S.bind(S.cursorh,"mouseup",S.onselectionend),S.bind(a,"mousemove",S.onselectiondrag)),S.zoom&&(S.jqbind(S.zoom,"mouseenter",(function(){S.canshowonmouseevent&&S.showCursor(),S.rail.active=!0})),S.jqbind(S.zoom,"mouseleave",(function(){S.rail.active=!1,S.rail.drag||S.hideCursor()})))),T.enablemousewheel&&(S.isiframe||S.mousewheel(L.isie&&S.ispage?a:S.win,S.onmousewheel),S.mousewheel(S.rail,S.onmousewheel),S.railh&&S.mousewheel(S.railh,S.onmousewheelhr)),S.ispage||L.cantouch||/HTML|^BODY/.test(S.win[0].nodeName)||(S.win.attr("tabindex")||S.win.attr({tabindex:++o}),S.bind(S.win,"focus",(function(e){t=S.getTarget(e).id||S.getTarget(e)||!1,S.hasfocus=!0,S.canshowonmouseevent&&S.noticeCursor()})),S.bind(S.win,"blur",(function(e){t=!1,S.hasfocus=!1})),S.bind(S.win,"mouseenter",(function(e){i=S.getTarget(e).id||S.getTarget(e)||!1,S.hasmousefocus=!0,S.canshowonmouseevent&&S.noticeCursor()})),S.bind(S.win,"mouseleave",(function(e){i=!1,S.hasmousefocus=!1,S.rail.drag||S.hideCursor()}))),S.onkeypress=function(e){if(S.railslocked&&0===S.page.maxh)return!0;e=e||l.event;var o=S.getTarget(e);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!o.getAttribute("type")&&!o.type||!/submit|button|cancel/i.tp))return!0;if(n(o).attr("contenteditable"))return!0;if(S.hasfocus||S.hasmousefocus&&!t||S.ispage&&!t&&!i){var r=e.keyCode;if(S.railslocked&&27!=r)return S.cancelEvent(e);var s=e.ctrlKey||!1,a=e.shiftKey||!1,c=!1;switch(r){case 38:case 63233:S.doScrollBy(72),c=!0;break;case 40:case 63235:S.doScrollBy(-72),c=!0;break;case 37:case 63232:S.railh&&(s?S.doScrollLeft(0):S.doScrollLeftBy(72),c=!0);break;case 39:case 63234:S.railh&&(s?S.doScrollLeft(S.page.maxw):S.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:S.doScrollBy(S.view.h),c=!0;break;case 34:case 63277:S.doScrollBy(-S.view.h),c=!0;break;case 36:case 63273:S.railh&&s?S.doScrollPos(0,0):S.doScrollTo(0),c=!0;break;case 35:case 63275:S.railh&&s?S.doScrollPos(S.page.maxw,S.page.maxh):S.doScrollTo(S.page.maxh),c=!0;break;case 32:T.spacebarenabled&&(a?S.doScrollBy(S.view.h):S.doScrollBy(-S.view.h),c=!0);break;case 27:S.zoomactive&&(S.doZoom(),c=!0)}if(c)return S.cancelEvent(e)}},T.enablekeyboard&&S.bind(a,L.isopera&&!L.isopera12?"keypress":"keydown",S.onkeypress),S.bind(a,"keydown",(function(e){e.ctrlKey&&(S.wheelprevented=!0)})),S.bind(a,"keyup",(function(e){e.ctrlKey||(S.wheelprevented=!1)})),S.bind(l,"blur",(function(e){S.wheelprevented=!1})),S.bind(l,"resize",S.onscreenresize),S.bind(l,"orientationchange",S.onscreenresize),S.bind(l,"load",S.lazyResize),L.ischrome&&!S.ispage&&!S.haswrapper){var z=S.win.attr("style"),E=parseFloat(S.win.css("width"))+1;S.win.css("width",E),S.synched("chromefix",(function(){S.win.attr("style",z)}))}if(S.onAttributeChange=function(e){S.lazyResize(S.isieold?250:30)},T.enableobserver&&(S.isie11||!1===f||(S.observerbody=new f((function(e){if(e.forEach((function(e){if("attributes"==e.type)return C.hasClass("modal-open")&&C.hasClass("modal-dialog")&&!n.contains(n(".modal-dialog")[0],S.doc[0])?S.hide():S.show()})),S.me.clientWidth!=S.page.width||S.me.clientHeight!=S.page.height)return S.lazyResize(30)})),S.observerbody.observe(a.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!S.ispage&&!S.haswrapper)){var M=S.win[0];!1!==f?(S.observer=new f((function(e){e.forEach(S.onAttributeChange)})),S.observer.observe(M,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),S.observerremover=new f((function(e){e.forEach((function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(S&&e.removedNodes[t]===M)return S.remove()}))})),S.observerremover.observe(M.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(S.bind(M,L.isie&&!L.isie9?"propertychange":"DOMAttrModified",S.onAttributeChange),L.isie9&&M.attachEvent("onpropertychange",S.onAttributeChange),S.bind(M,"DOMNodeRemoved",(function(e){e.target===M&&S.remove()})))}!S.ispage&&T.boxzoom&&S.bind(l,"resize",S.resizeZoom),S.istextarea&&(S.bind(S.win,"keydown",S.lazyResize),S.bind(S.win,"mouseup",S.lazyResize)),S.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var P=function(){var t;S.iframexd=!1;try{(t="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){S.iframexd=!0,t=!1}if(S.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;if(S.forcescreen=!0,S.isiframe&&(S.iframe={doc:n(t),html:S.doc.contents().find("html")[0],body:S.doc.contents().find("body")[0]},S.getContentSize=function(){return{w:Math.max(S.iframe.html.scrollWidth,S.iframe.body.scrollWidth),h:Math.max(S.iframe.html.scrollHeight,S.iframe.body.scrollHeight)}},S.docscroll=n(S.iframe.body)),!L.isios&&T.iframeautoresize&&!S.isiframe){S.win.scrollTop(0),S.doc.height("");var i=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);S.doc.height(i)}S.lazyResize(30),S.css(n(S.iframe.body),e),L.isios&&S.haswrapper&&S.css(n(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?S.bind(this.contentWindow,"scroll",S.onscroll):S.bind(t,"scroll",S.onscroll),T.enablemousewheel&&S.mousewheel(t,S.onmousewheel),T.enablekeyboard&&S.bind(t,L.isopera?"keypress":"keydown",S.onkeypress),L.cantouch?(S.bind(t,"touchstart",S.ontouchstart),S.bind(t,"touchmove",S.ontouchmove)):T.emulatetouch&&(S.bind(t,"mousedown",S.ontouchstart),S.bind(t,"mousemove",(function(e){return S.ontouchmove(e,!0)})),T.grabcursorenabled&&L.cursorgrabvalue&&S.css(n(t.body),{cursor:L.cursorgrabvalue})),S.bind(t,"mouseup",S.ontouchend),S.zoom&&(T.dblclickzoom&&S.bind(t,"dblclick",S.doZoom),S.ongesturezoom&&S.bind(t,"gestureend",S.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout((function(){P.call(S.doc[0],!1)}),500),S.bind(this.doc,"load",P)}},this.showCursor=function(e,t){if(S.cursortimeout&&(clearTimeout(S.cursortimeout),S.cursortimeout=0),S.rail){if(S.autohidedom&&(S.autohidedom.stop().css({opacity:T.cursoropacitymax}),S.cursoractive=!0),S.rail.drag&&1==S.rail.drag.pt||(void 0!==e&&!1!==e&&(S.scroll.y=e/S.scrollratio.y|0),void 0!==t&&(S.scroll.x=t/S.scrollratio.x|0)),S.cursor.css({height:S.cursorheight,top:S.scroll.y}),S.cursorh){var i=S.hasreversehr?S.scrollvaluemaxw-S.scroll.x:S.scroll.x;S.cursorh.css({width:S.cursorwidth,left:!S.rail.align&&S.rail.visibility?i+S.rail.width:i}),S.cursoractive=!0}S.zoom&&S.zoom.stop().css({opacity:T.cursoropacitymax})}},this.hideCursor=function(e){S.cursortimeout||S.rail&&S.autohidedom&&(S.hasmousefocus&&"leave"===T.autohidemode||(S.cursortimeout=setTimeout((function(){S.rail.active&&S.showonmouseevent||(S.autohidedom.stop().animate({opacity:T.cursoropacitymin}),S.zoom&&S.zoom.stop().animate({opacity:T.cursoropacitymin}),S.cursoractive=!1),S.cursortimeout=0}),e||T.hidecursordelay)))},this.noticeCursor=function(e,t,i){S.showCursor(t,i),S.rail.active||S.hideCursor(e)},this.getContentSize=S.ispage?function(){return{w:Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),h:Math.max(a.body.scrollHeight,a.documentElement.scrollHeight)}}:S.haswrapper?function(){return{w:S.doc[0].offsetWidth,h:S.doc[0].offsetHeight}}:function(){return{w:S.docscroll[0].scrollWidth,h:S.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!S||!S.win)return!1;var i=S.page.maxh,o=S.page.maxw,r=S.view.h,s=S.view.w;if(S.view={w:S.ispage?S.win.width():S.win[0].clientWidth,h:S.ispage?S.win.height():S.win[0].clientHeight},S.page=t||S.getContentSize(),S.page.maxh=Math.max(0,S.page.h-S.view.h),S.page.maxw=Math.max(0,S.page.w-S.view.w),S.page.maxh==i&&S.page.maxw==o&&S.view.w==s&&S.view.h==r){if(S.ispage)return S;var n=S.win.offset();if(S.lastposition){var a=S.lastposition;if(a.top==n.top&&a.left==n.left)return S}S.lastposition=n}return 0===S.page.maxh?(S.hideRail(),S.scrollvaluemax=0,S.scroll.y=0,S.scrollratio.y=0,S.cursorheight=0,S.setScrollTop(0),S.rail&&(S.rail.scrollable=!1)):(S.page.maxh-=T.railpadding.top+T.railpadding.bottom,S.rail.scrollable=!0),0===S.page.maxw?(S.hideRailHr(),S.scrollvaluemaxw=0,S.scroll.x=0,S.scrollratio.x=0,S.cursorwidth=0,S.setScrollLeft(0),S.railh&&(S.railh.scrollable=!1)):(S.page.maxw-=T.railpadding.left+T.railpadding.right,S.railh&&(S.railh.scrollable=T.horizrailenabled)),S.railslocked=S.locked||0===S.page.maxh&&0===S.page.maxw,S.railslocked?(S.ispage||S.updateScrollBar(S.view),!1):(S.hidden||(S.rail.visibility||S.showRail(),S.railh&&!S.railh.visibility&&S.showRailHr()),S.istextarea&&S.win.css("resize")&&"none"!=S.win.css("resize")&&(S.view.h-=20),S.cursorheight=Math.min(S.view.h,Math.round(S.view.h*(S.view.h/S.page.h))),S.cursorheight=T.cursorfixedheight?T.cursorfixedheight:Math.max(T.cursorminheight,S.cursorheight),S.cursorwidth=Math.min(S.view.w,Math.round(S.view.w*(S.view.w/S.page.w))),S.cursorwidth=T.cursorfixedheight?T.cursorfixedheight:Math.max(T.cursorminheight,S.cursorwidth),S.scrollvaluemax=S.view.h-S.cursorheight-(T.railpadding.top+T.railpadding.bottom),S.hasborderbox||(S.scrollvaluemax-=S.cursor[0].offsetHeight-S.cursor[0].clientHeight),S.railh&&(S.railh.width=S.page.maxh>0?S.view.w-S.rail.width:S.view.w,S.scrollvaluemaxw=S.railh.width-S.cursorwidth-(T.railpadding.left+T.railpadding.right)),S.ispage||S.updateScrollBar(S.view),S.scrollratio={x:S.page.maxw/S.scrollvaluemaxw,y:S.page.maxh/S.scrollvaluemax},S.getScrollTop()>S.page.maxh?S.doScrollTop(S.page.maxh):(S.scroll.y=S.getScrollTop()/S.scrollratio.y|0,S.scroll.x=S.getScrollLeft()/S.scrollratio.x|0,S.cursoractive&&S.noticeCursor()),S.scroll.y&&0===S.getScrollTop()&&S.doScrollTo(S.scroll.y*S.scrollratio.y|0),S)},this.resize=S.onResize;var N=0;this.onscreenresize=function(e){clearTimeout(N);var t=!S.ispage&&!S.haswrapper;t&&S.hideRails(),N=setTimeout((function(){S&&(t&&S.showRails(),S.resize()),N=0}),120)},this.lazyResize=function(e){return clearTimeout(N),e=isNaN(e)?240:e,N=setTimeout((function(){S&&S.resize(),N=0}),e),S},this.jqbind=function(e,t,i){S.events.push({e:e,n:t,f:i,q:!0}),n(e).on(t,i)},this.mousewheel=function(e,t,i){var o="jquery"in e?e[0]:e;if("onwheel"in a.createElement("div"))S._bind(o,"wheel",t,i||!1);else{var r=void 0!==a.onmousewheel?"mousewheel":"DOMMouseScroll";x(o,r,t,i||!1),"DOMMouseScroll"==r&&x(o,"MozMousePixelScroll",t,i||!1)}};var A=!1;if(L.haseventlistener){try{var O=Object.defineProperty({},"passive",{get:function(){A=!0}});l.addEventListener("test",null,O)}catch(e){}this.stopPropagation=function(e){return!!e&&((e=e.original?e.original:e).stopPropagation(),!1)},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=a.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,t,i){this.attachEvent("on"+e,t)},l.constructor.prototype.removeEventListener=a.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t,i){this.detachEvent("on"+e,t)},this.cancelEvent=function(e){return(e=e||l.event)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return(e=e||l.event)&&(e.cancelBubble=!0),!1};this.delegate=function(e,t,i,o,r){var s=d[t]||!1;s||(s={a:[],l:[],f:function(e){for(var t=s.l,i=!1,o=t.length-1;o>=0;o--)if(!1===(i=t[o].call(e.target,e)))return!1;return i}},S.bind(e,t,s.f,o,r),d[t]=s),S.ispage?(s.a=[S.id].concat(s.a),s.l=[i].concat(s.l)):(s.a.push(S.id),s.l.push(i))},this.undelegate=function(e,t,i,o,r){var s=d[t]||!1;if(s&&s.l)for(var n=0,a=s.l.length;n<a;n++)s.a[n]===S.id&&(s.a.splice(n),s.l.splice(n),0===s.a.length&&(S._unbind(e,t,s.l.f),d[t]=null))},this.bind=function(e,t,i,o,r){var s="jquery"in e?e[0]:e;S._bind(s,t,i,o||!1,r||!1)},this._bind=function(e,t,i,o,r){S.events.push({e:e,n:t,f:i,b:o,q:!1}),A&&r?e.addEventListener(t,i,{passive:!1,capture:o}):e.addEventListener(t,i,o||!1)},this._unbind=function(e,t,i,o){d[t]?S.undelegate(e,t,i,o):e.removeEventListener(t,i,o)},this.unbindAll=function(){for(var e=0;e<S.events.length;e++){var t=S.events[e];t.q?t.e.unbind(t.n,t.f):S._unbind(t.e,t.n,t.f,t.b)}},this.showRails=function(){return S.showRail().showRailHr()},this.showRail=function(){return 0===S.page.maxh||!S.ispage&&"none"==S.win.css("display")||(S.rail.visibility=!0,S.rail.css("display","block"),S.rail.parent().removeClass("noscroll")),S},this.showRailHr=function(){return S.railh&&(0===S.page.maxw||!S.ispage&&"none"==S.win.css("display")||(S.railh.visibility=!0,S.railh.css("display","block"))),S},this.hideRails=function(){return S.hideRail().hideRailHr()},this.hideRail=function(){return S.rail.visibility=!1,S.rail.css("display","none"),S.rail.parent().addClass("noscroll"),S},this.hideRailHr=function(){return S.railh&&(S.railh.visibility=!1,S.railh.css("display","none")),S},this.show=function(){return S.hidden=!1,S.railslocked=!1,S.showRails()},this.hide=function(){return S.hidden=!0,S.railslocked=!0,S.hideRails()},this.toggle=function(){return S.hidden?S.show():S.hide()},this.remove=function(){for(var e in S.stop(),S.cursortimeout&&clearTimeout(S.cursortimeout),S.delaylist)S.delaylist[e]&&h(S.delaylist[e].h);S.doZoomOut(),S.unbindAll(),L.isie9&&S.win[0].detachEvent("onpropertychange",S.onAttributeChange),!1!==S.observer&&S.observer.disconnect(),!1!==S.observerremover&&S.observerremover.disconnect(),!1!==S.observerbody&&S.observerbody.disconnect(),S.events=null,S.cursor&&S.cursor.remove(),S.cursorh&&S.cursorh.remove(),S.rail&&S.rail.remove(),S.railh&&S.railh.remove(),S.zoom&&S.zoom.remove();for(var t=0;t<S.saved.css.length;t++){var i=S.saved.css[t];i[0].css(i[1],void 0===i[2]?"":i[2])}S.saved=!1,S.me.data("__nicescroll","");var o=n.nicescroll;for(var r in o.each((function(e){if(this&&this.id===S.id){delete o[e];for(var t=++e;t<o.length;t++,e++)o[e]=o[t];--o.length&&delete o[o.length]}})),S)S[r]=null,delete S[r];S=null},this.scrollstart=function(e){return this.onscrollstart=e,S},this.scrollend=function(e){return this.onscrollend=e,S},this.scrollcancel=function(e){return this.onscrollcancel=e,S},this.zoomin=function(e){return this.onzoomin=e,S},this.zoomout=function(e){return this.onzoomout=e,S},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&t!==this.me[0]&&!/^BODY|HTML/.test(t.nodeName);){var i=n(t),o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var i=n(t);if(/fixed|absolute/.test(i.css("position")))return i;var o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&t.clientHeight!=t.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollStart=function(e,t,i,o,r){if(S.onscrollstart){var s={type:"scrollstart",current:{x:e,y:t},request:{x:i,y:o},end:{x:S.newscrollx,y:S.newscrolly},speed:r};S.onscrollstart.call(S,s)}},this.triggerScrollEnd=function(){if(S.onscrollend){var e=S.getScrollLeft(),t=S.getScrollTop(),i={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};S.onscrollend.call(S,i)}};var I=0,R=0,H=0,Y=1,q=!1;if(this.onmousewheel=function(e){if(S.wheelprevented||S.locked)return!1;if(S.railslocked)return S.debounced("checkunlock",S.resize,250),!1;if(S.rail.drag)return S.cancelEvent(e);if("auto"===T.oneaxismousemode&&0!==e.deltaX&&(T.oneaxismousemode=!1),T.oneaxismousemode&&0===e.deltaX&&!S.rail.scrollable)return!S.railh||!S.railh.scrollable||S.onmousewheelhr(e);var t=m(),i=!1;if(T.preservenativescrolling&&S.checkarea+600<t&&(S.nativescrollingarea=S.isScrollable(e),i=!0),S.checkarea=t,S.nativescrollingarea)return!0;var o=k(e,!1,i);return o&&(S.checkarea=0),o},this.onmousewheelhr=function(e){if(!S.wheelprevented){if(S.railslocked||!S.railh.scrollable)return!0;if(S.rail.drag)return S.cancelEvent(e);var t=m(),i=!1;return T.preservenativescrolling&&S.checkarea+600<t&&(S.nativescrollingarea=S.isScrollable(e),i=!0),S.checkarea=t,!!S.nativescrollingarea||(S.railslocked?S.cancelEvent(e):k(e,!0,i))}},this.stop=function(){return S.cancelScroll(),S.scrollmon&&S.scrollmon.stop(),S.cursorfreezed=!1,S.scroll.y=Math.round(S.getScrollTop()*(1/S.scrollratio.y)),S.noticeCursor(),S},this.getTransitionSpeed=function(e){return 80+e/72*T.scrollspeed|0},T.smoothscroll)if(S.ishwscroll&&L.hastransition&&T.usetransition&&T.smoothscroll){var X="";this.resetTransition=function(){X="",S.doc.css(L.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,t){var i=t?e:S.getTransitionSpeed(e),o=i+"ms";return X!==o&&(X=o,S.doc.css(L.prefixstyle+"transition-duration",o)),i},this.doScrollLeft=function(e,t){var i=S.scrollrunning?S.newscrolly:S.getScrollTop();S.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=S.scrollrunning?S.newscrollx:S.getScrollLeft();S.doScrollPos(i,e,t)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var t=function(){e.running&&u(t),S.showCursor(S.getScrollTop(),S.getScrollLeft()),S.notifyScrollEvent(S.win[0])};u(t)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,t,i){var o=S.getScrollTop(),r=S.getScrollLeft();if(((S.newscrolly-o)*(t-o)<0||(S.newscrollx-r)*(e-r)<0)&&S.cancelScroll(),T.bouncescroll?(t<0?t=t/2|0:t>S.page.maxh&&(t=S.page.maxh+(t-S.page.maxh)/2|0),e<0?e=e/2|0:e>S.page.maxw&&(e=S.page.maxw+(e-S.page.maxw)/2|0)):(t<0?t=0:t>S.page.maxh&&(t=S.page.maxh),e<0?e=0:e>S.page.maxw&&(e=S.page.maxw)),S.scrollrunning&&e==S.newscrollx&&t==S.newscrolly)return!1;S.newscrolly=t,S.newscrollx=e;var s=S.getScrollTop(),n=S.getScrollLeft(),a={};a.x=e-n,a.y=t-s;var l=0|Math.sqrt(a.x*a.x+a.y*a.y),c=S.prepareTransition(l);S.scrollrunning||(S.scrollrunning=!0,S.triggerScrollStart(n,s,e,t,c),S.cursorupdate.start()),S.scrollendtrapped=!0,L.transitionend||(S.scrollendtrapped&&clearTimeout(S.scrollendtrapped),S.scrollendtrapped=setTimeout(S.onScrollTransitionEnd,c)),S.setScrollTop(S.newscrolly),S.setScrollLeft(S.newscrollx)},this.cancelScroll=function(){if(!S.scrollendtrapped)return!0;var e=S.getScrollTop(),t=S.getScrollLeft();return S.scrollrunning=!1,L.transitionend||clearTimeout(L.transitionend),S.scrollendtrapped=!1,S.resetTransition(),S.setScrollTop(e),S.railh&&S.setScrollLeft(t),S.timerscroll&&S.timerscroll.tm&&clearInterval(S.timerscroll.tm),S.timerscroll=!1,S.cursorfreezed=!1,S.cursorupdate.stop(),S.showCursor(e,t),S},this.onScrollTransitionEnd=function(){if(S.scrollendtrapped){var e=S.getScrollTop(),t=S.getScrollLeft();if(e<0?e=0:e>S.page.maxh&&(e=S.page.maxh),t<0?t=0:t>S.page.maxw&&(t=S.page.maxw),e!=S.newscrolly||t!=S.newscrollx)return S.doScrollPos(t,e,T.snapbackspeed);S.scrollrunning&&S.triggerScrollEnd(),S.scrollrunning=!1,S.scrollendtrapped=!1,S.resetTransition(),S.timerscroll=!1,S.setScrollTop(e),S.railh&&S.setScrollLeft(t),S.cursorupdate.stop(),S.noticeCursor(!1,e,t),S.cursorfreezed=!1}}}else this.doScrollLeft=function(e,t){var i=S.scrollrunning?S.newscrolly:S.getScrollTop();S.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=S.scrollrunning?S.newscrollx:S.getScrollLeft();S.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var o=S.getScrollTop(),r=S.getScrollLeft();((S.newscrolly-o)*(t-o)<0||(S.newscrollx-r)*(e-r)<0)&&S.cancelScroll();var s=!1;if(S.bouncescroll&&S.rail.visibility||(t<0?(t=0,s=!0):t>S.page.maxh&&(t=S.page.maxh,s=!0)),S.bouncescroll&&S.railh.visibility||(e<0?(e=0,s=!0):e>S.page.maxw&&(e=S.page.maxw,s=!0)),S.scrollrunning&&S.newscrolly===t&&S.newscrollx===e)return!0;S.newscrolly=t,S.newscrollx=e,S.dst={},S.dst.x=e-r,S.dst.y=t-o,S.dst.px=r,S.dst.py=o;var n=0|Math.sqrt(S.dst.x*S.dst.x+S.dst.y*S.dst.y),a=S.getTransitionSpeed(n);S.bzscroll={};var l=s?1:.58;S.bzscroll.x=new M(r,S.newscrollx,a,0,0,l,1),S.bzscroll.y=new M(o,S.newscrolly,a,0,0,l,1),m();var c=function(){if(S.scrollrunning){var e=S.bzscroll.y.getPos();S.setScrollLeft(S.bzscroll.x.getNow()),S.setScrollTop(S.bzscroll.y.getNow()),e<=1?S.timer=u(c):(S.scrollrunning=!1,S.timer=0,S.triggerScrollEnd())}};S.scrollrunning||(S.triggerScrollStart(r,o,e,t,a),S.scrollrunning=!0,S.timer=u(c))},this.cancelScroll=function(){return S.timer&&h(S.timer),S.timer=0,S.bzscroll=!1,S.scrollrunning=!1,S};else this.doScrollLeft=function(e,t){var i=S.getScrollTop();S.doScrollPos(e,i,t)},this.doScrollTop=function(e,t){var i=S.getScrollLeft();S.doScrollPos(i,e,t)},this.doScrollPos=function(e,t,i){var o=e>S.page.maxw?S.page.maxw:e;o<0&&(o=0);var r=t>S.page.maxh?S.page.maxh:t;r<0&&(r=0),S.synched("scroll",(function(){S.setScrollTop(r),S.setScrollLeft(o)}))},this.cancelScroll=function(){};this.doScrollBy=function(e,t){$(0,e)},this.doScrollLeftBy=function(e,t){$(e,0)},this.doScrollTo=function(e,t){var i=t?Math.round(e*S.scrollratio.y):e;i<0?i=0:i>S.page.maxh&&(i=S.page.maxh),S.cursorfreezed=!1,S.doScrollTop(e)},this.checkContentSize=function(){var e=S.getContentSize();e.h==S.page.h&&e.w==S.page.w||S.resize(!1,e)},S.onscroll=function(e){S.rail.drag||S.cursorfreezed||S.synched("scroll",(function(){S.scroll.y=Math.round(S.getScrollTop()/S.scrollratio.y),S.railh&&(S.scroll.x=Math.round(S.getScrollLeft()/S.scrollratio.x)),S.noticeCursor()}))},S.bind(S.docscroll,"scroll",S.onscroll),this.doZoomIn=function(e){if(!S.zoomactive){S.zoomactive=!0,S.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=S.win[0].style;for(var o in t){var r=t[o];S.zoomrestore.style[r]=void 0!==i[r]?i[r]:""}S.zoomrestore.style.width=S.win.css("width"),S.zoomrestore.style.height=S.win.css("height"),S.zoomrestore.padding={w:S.win.outerWidth()-S.win.width(),h:S.win.outerHeight()-S.win.height()},L.isios4&&(S.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),S.win.css({position:L.isios4?"absolute":"fixed",top:0,left:0,zIndex:s+100,margin:0});var n=S.win.css("backgroundColor");return(""===n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&S.win.css("backgroundColor","#fff"),S.rail.css({zIndex:s+101}),S.zoom.css({zIndex:s+102}),S.zoom.css("backgroundPosition","0 -18px"),S.resizeZoom(),S.onzoomin&&S.onzoomin.call(S),S.cancelEvent(e)}},this.doZoomOut=function(e){if(S.zoomactive)return S.zoomactive=!1,S.win.css("margin",""),S.win.css(S.zoomrestore.style),L.isios4&&c.scrollTop(S.zoomrestore.scrollTop),S.rail.css({"z-index":S.zindex}),S.zoom.css({"z-index":S.zindex}),S.zoomrestore=!1,S.zoom.css("backgroundPosition","0 0"),S.onResize(),S.onzoomout&&S.onzoomout.call(S),S.cancelEvent(e)},this.doZoom=function(e){return S.zoomactive?S.doZoomOut(e):S.doZoomIn(e)},this.resizeZoom=function(){if(S.zoomactive){var e=S.getScrollTop();S.win.css({width:c.width()-S.zoomrestore.padding.w+"px",height:c.height()-S.zoomrestore.padding.h+"px"}),S.onResize(),S.setScrollTop(Math.min(S.page.maxh,e))}},this.init(),n.nicescroll.push(this)},y=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,i){t.stop(),t.steptime=0,t.lasttime=m(),t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=i,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,i){var o=m();t.steptime=o-t.lasttime,t.lasttime=o;var r=i-t.lasty,s=e-t.lastx,n=t.nc.getScrollTop()+r,a=t.nc.getScrollLeft()+s;t.snapx=a<0||a>t.nc.page.maxw,t.snapy=n<0||n>t.nc.page.maxh,t.speedx=s,t.speedy=r,t.lastx=e,t.lasty=i},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,i){var o=!1;i<0?(i=0,o=!0):i>t.nc.page.maxh&&(i=t.nc.page.maxh,o=!0),e<0?(e=0,o=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,o=!0),o?t.nc.doScrollPos(e,i,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var i=m(),o=e?i+e:t.lasttime,r=t.nc.getScrollLeft(),s=t.nc.getScrollTop(),n=t.nc.page.maxh,a=t.nc.page.maxw;t.speedx=a>0?Math.min(60,t.speedx):0,t.speedy=n>0?Math.min(60,t.speedy):0;var l=o&&i-o<=60;(s<0||s>n||r<0||r>a)&&(l=!1);var c=!(!t.speedy||!l)&&t.speedy,d=!(!t.speedx||!l)&&t.speedx;if(c||d){var u=Math.max(16,t.steptime);if(u>50){var h=u/50;t.speedx*=h,t.speedy*=h,u=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var p=t.lastscrollx,f=t.lastscrolly,v=function(){var e=m()-i>600?.04:.02;t.speedx&&(p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=p,(p<0||p>a)&&(e=.1)),t.speedy&&(f=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=f,(f<0||f>n)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",(function(){t.speedx&&(t.nc.getScrollLeft(),t.chkx=p,t.nc.setScrollLeft(p)),t.speedy&&(t.nc.getScrollTop(),t.chky=f,t.nc.setScrollTop(f)),t.timer||(t.nc.hideCursor(),t.doSnapy(p,f))})),t.demulxy<1?t.timer=setTimeout(v,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(p,f))};v()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},x=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,i){var o=n.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():x.call(e)},set:function(e,t){var i=n.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(t)):x.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=!!this[0]&&(n.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():x.call(this)}return this.each((function(){var t=n.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):x.call(n(this),e)}))};var $=e.fn.scrollLeft;n.cssHooks.pageXOffset={get:function(e,t,i){var o=n.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():$.call(e)},set:function(e,t){var i=n.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(t)):$.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=!!this[0]&&(n.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():$.call(this)}return this.each((function(){var t=n.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):$.call(n(this),e)}))};var k=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return n.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var i=0;i<e.length;i++){var o=n.data(e[i],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};!function(e,t,i){for(var o=0,r=t.length;o<r;o++)i(e,t[o])}(k.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],(function(e,t){e[t]=function(){var e=arguments;return this.each((function(){this[t].apply(this,e)}))}})),e.fn.getNiceScroll=function(e){return void 0===e?new k(this):this[e]&&n.data(this[e],"__nicescroll")||!1},(e.expr.pseudos||e.expr[":"]).nicescroll=function(e){return void 0!==n.data(e,"__nicescroll")},n.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1);var i=new k;return this.each((function(){var o=n(this),r=n.extend({},t);if(e){var s=n(e);r.doc=s.length>1?n(e,o):s,r.win=o}!("doc"in r)||"win"in r||(r.win=o);var a=o.data("__nicescroll")||!1;a||(r.doc=r.doc||o,a=new w(r,o),o.data("__nicescroll",a)),i.push(a)})),1===i.length?i[0]:i},l.NiceScroll={getjQuery:function(){return e}},n.nicescroll||(n.nicescroll=new k,n.nicescroll.options=v)})),
/*!
 * baguetteBox.js
 * @author  feimosi
 * @version %%INJECT_VERSION%%
 * @url https://github.com/feimosi/baguetteBox.js
 */
function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.baguetteBox=t()}(this,(function(){"use strict";var e,t,i,o,r,s={},n={captions:!0,buttons:"auto",fullScreen:!1,noScrollbars:!1,bodyClass:"baguetteBox-open",titleTag:!1,async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},a={},l=[],c=0,d=!1,u={},h=!1,p=/.+\.(gif|jpe?g|png|webp)/i,f={},m=[],v=null,g=function(e){-1!==e.target.id.indexOf("baguette-img")&&M()},b=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,N()},w=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,B()},y=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,M()},x=function(e){u.count++,u.count>1&&(u.multitouch=!0),u.startX=e.changedTouches[0].pageX,u.startY=e.changedTouches[0].pageY},$=function(e){if(!h&&!u.multitouch){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.touches[0]||e.changedTouches[0];t.pageX-u.startX>40?(h=!0,N()):t.pageX-u.startX<-40?(h=!0,B()):u.startY-t.pageY>100&&M()}},k=function(){u.count--,u.count<=0&&(u.multitouch=!1),h=!1},S=function(){k()},C=function(t){"block"===e.style.display&&e.contains&&!e.contains(t.target)&&(t.stopPropagation(),L())};function T(e){if(f.hasOwnProperty(e)){var t=f[e].galleries;[].forEach.call(t,(function(e){[].forEach.call(e,(function(e){q(e.imageElement,"click",e.eventHandler)})),l===e&&(l=[])})),delete f[e]}}function _(e){switch(e.keyCode){case 37:N();break;case 39:B();break;case 27:M();break;case 36:!function(e){e&&e.preventDefault();A(0)}(e);break;case 35:!function(e){e&&e.preventDefault();A(l.length-1)}(e)}}function z(r,a){if(l!==r){for(l=r,function(r){r||(r={});for(var a in n)s[a]=n[a],void 0!==r[a]&&(s[a]=r[a]);t.style.transition=t.style.webkitTransition="fadeIn"===s.animation?"opacity .4s ease":"slideIn"===s.animation?"":"none","auto"!==s.buttons||!("ontouchstart"in window)&&1!==l.length||(s.buttons=!1);i.style.display=o.style.display=s.buttons?"":"none";try{e.style.backgroundColor=s.overlayBackgroundColor}catch(e){}}(a);t.firstChild;)t.removeChild(t.firstChild);m.length=0;for(var c,d=[],u=[],h=0;h<r.length;h++)(c=D("div")).className="full-image",c.id="baguette-img-"+h,m.push(c),d.push("baguetteBox-figure-"+h),u.push("baguetteBox-figcaption-"+h),t.appendChild(m[h]);e.setAttribute("aria-labelledby",d.join(" ")),e.setAttribute("aria-describedby",u.join(" "))}}function E(t){s.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"),"block"!==e.style.display&&(Y(document,"keydown",_),u={count:0,startX:null,startY:null},P(c=t,(function(){R(c),H(c)})),I(),e.style.display="block",s.fullScreen&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()),setTimeout((function(){e.className="visible",s.bodyClass&&document.body.classList&&document.body.classList.add(s.bodyClass),s.afterShow&&s.afterShow()}),50),s.onChange&&s.onChange(c,m.length),v=document.activeElement,L(),d=!0)}function L(){s.buttons?i.focus():r.focus()}function M(){s.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==e.style.display&&(q(document,"keydown",_),e.className="",setTimeout((function(){e.style.display="none",document.fullscreen&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()),s.bodyClass&&document.body.classList&&document.body.classList.remove(s.bodyClass),s.afterHide&&s.afterHide(),v&&v.focus(),d=!1}),500))}function P(e,t){var i=m[e],o=l[e];if(void 0!==i&&void 0!==o)if(i.getElementsByTagName("img")[0])t&&t();else{var r=o.imageElement,n=r.getElementsByTagName("img")[0],a="function"==typeof s.captions?s.captions.call(l,r):r.getAttribute("data-caption")||r.title,c=function(e){var t=e.href;if(e.dataset){var i=[];for(var o in e.dataset)"at-"!==o.substring(0,3)||isNaN(o.substring(3))||(i[o.replace("at-","")]=e.dataset[o]);for(var r=Object.keys(i).sort((function(e,t){return parseInt(e,10)<parseInt(t,10)?-1:1})),s=window.innerWidth*window.devicePixelRatio,n=0;n<r.length-1&&r[n]<s;)n++;t=i[r[n]]||t}return t}(r),d=D("figure");if(d.id="baguetteBox-figure-"+e,d.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',s.captions&&a){var u=D("figcaption");u.id="baguetteBox-figcaption-"+e,u.innerHTML=a,d.appendChild(u)}i.appendChild(d);var h=D("img");h.onload=function(){var i=document.querySelector("#baguette-img-"+e+" .baguetteBox-spinner");d.removeChild(i),!s.async&&t&&t()},h.setAttribute("src",c),h.alt=n&&n.alt||"",s.titleTag&&a&&(h.title=a),d.appendChild(h),s.async&&t&&t()}}function B(){return A(c+1)}function N(){return A(c-1)}function A(e,t){return!d&&e>=0&&e<t.length?(z(t,s),E(e),!0):e<0?(s.animation&&O("left"),!1):e>=m.length?(s.animation&&O("right"),!1):(P(c=e,(function(){R(c),H(c)})),I(),s.onChange&&s.onChange(c,m.length),!0)}function O(e){t.className="bounce-from-"+e,setTimeout((function(){t.className=""}),400)}function I(){var e=100*-c+"%";"fadeIn"===s.animation?(t.style.opacity=0,setTimeout((function(){a.transforms?t.style.transform=t.style.webkitTransform="translate3d("+e+",0,0)":t.style.left=e,t.style.opacity=1}),400)):a.transforms?t.style.transform=t.style.webkitTransform="translate3d("+e+",0,0)":t.style.left=e}function R(e){e-c>=s.preload||P(e+1,(function(){R(e+1)}))}function H(e){c-e>=s.preload||P(e-1,(function(){H(e-1)}))}function Y(e,t,i,o){e.addEventListener?e.addEventListener(t,i,o):e.attachEvent("on"+t,(function(e){(e=e||window.event).target=e.target||e.srcElement,i(e)}))}function q(e,t,i,o){e.removeEventListener?e.removeEventListener(t,i,o):e.detachEvent("on"+t,i)}function X(e){return document.getElementById(e)}function D(e){return document.createElement(e)}return[].forEach||(Array.prototype.forEach=function(e,t){for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)}),[].filter||(Array.prototype.filter=function(e,t,i,o,r){for(i=this,o=[],r=0;r<i.length;r++)e.call(t,i[r],r,i)&&o.push(i[r]);return o}),{run:function(s,n){var l;return a.transforms=void 0!==(l=D("div")).style.perspective||void 0!==l.style.webkitPerspective,a.svg=function(){var e=D("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),a.passiveEvents=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),function(){if(e=X("baguetteBox-overlay"))return t=X("baguetteBox-slider"),i=X("previous-button"),o=X("next-button"),void(r=X("close-button"));(e=D("div")).setAttribute("role","dialog"),e.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(e),(t=D("div")).id="baguetteBox-slider",e.appendChild(t),(i=D("button")).setAttribute("type","button"),i.id="previous-button",i.setAttribute("aria-label","Previous"),i.innerHTML=a.svg?'<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&lt;",e.appendChild(i),(o=D("button")).setAttribute("type","button"),o.id="next-button",o.setAttribute("aria-label","Next"),o.innerHTML=a.svg?'<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>':"&gt;",e.appendChild(o),(r=D("button")).setAttribute("type","button"),r.id="close-button",r.setAttribute("aria-label","Close"),r.innerHTML=a.svg?'<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>':"&times;",e.appendChild(r),i.className=o.className=r.className="baguetteBox-button",function(){var s=a.passiveEvents?{passive:!0}:null;Y(e,"click",g),Y(i,"click",b),Y(o,"click",w),Y(r,"click",y),Y(t,"contextmenu",S),Y(e,"touchstart",x,s),Y(e,"touchmove",$,s),Y(e,"touchend",k),Y(document,"focus",C,!0)}()}(),T(s),function(e,t){var i=document.querySelectorAll(e),o={galleries:[],nodeList:i};return f[e]=o,[].forEach.call(i,(function(e){t&&t.filter&&(p=t.filter);var i=[];if(i="A"===e.tagName?[e]:e.getElementsByTagName("a"),0!==(i=[].filter.call(i,(function(e){if(-1===e.className.indexOf(t&&t.ignoreClass))return p.test(e.href)}))).length){var r=[];[].forEach.call(i,(function(e,i){var o=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,z(r,t),E(i)},s={eventHandler:o,imageElement:e};Y(e,"click",o),r.push(s)})),o.galleries.push(r)}})),o.galleries}(s,n)},show:A,showNext:B,showPrevious:N,hide:M,destroy:function(){!function(){var s=a.passiveEvents?{passive:!0}:null;q(e,"click",g),q(i,"click",b),q(o,"click",w),q(r,"click",y),q(t,"contextmenu",S),q(e,"touchstart",x,s),q(e,"touchmove",$,s),q(e,"touchend",k),q(document,"focus",C,!0)}(),function(){for(var e in f)f.hasOwnProperty(e)&&T(e)}(),q(document,"keydown",_),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),f={},l=[],c=0}}})),$(document).ready((function(){$(window).outerWidth(),$(window).outerHeight();var e=window.navigator.userAgent,t=(e.indexOf("MSIE "),{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}});function i(e){if(e.addClass("err"),e.parent().addClass("err"),e.parent().find(".form__error").remove(),e.hasClass("email")){var t="";null!=(t=(""==e.val()||(e.val(),e.attr("data-value")),e.data("error")))&&e.parent().append('<div class="form__error">'+t+"</div>")}else null!=e.data("error")&&0==e.parent().find(".form__error").length&&e.parent().append('<div class="form__error">'+e.data("error")+"</div>");e.parents(".select-block").length>0&&(e.parents(".select-block").parent().addClass("err"),e.parents(".select-block").find(".select").addClass("err"))}function o(e){e.removeClass("err"),e.parent().removeClass("err"),e.parent().find(".form__error").remove(),e.parents(".select-block").length>0&&(e.parents(".select-block").parent().removeClass("err"),e.parents(".select-block").find(".select").removeClass("err").removeClass("active"))}function r(e){""==e.val()&&(e.inputmask("remove"),e.val(e.attr("data-value")),e.removeClass("focus"),e.parent().removeClass("focus"))}function s(){$.each($('.select[data-type="search"]'),(function(e,t){var i=$(this).parent(),o=$(this).parent().find("select");1==$(this).find(".select-options__value:visible").length?($(this).addClass("focus"),$(this).parents(".select-block").find("select").val($(".select-options__value:visible").data("value")),$(this).find(".select-title__value").val($(".select-options__value:visible").html()),$(this).find(".select-title__value").attr("data-value",$(".select-options__value:visible").html())):""==o.val()&&($(this).removeClass("focus"),i.find("input.select-title__value").val(o.find('option[selected="selected"]').html()),i.find("input.select-title__value").attr("data-value",o.find('option[selected="selected"]').html()))}))}if(((e=navigator.userAgent).indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1)&&$("body").addClass("ie"),t.any()&&$("body").addClass("touch"),function(){if($("select").length>0){function e(){$.each($("select"),(function(e,i){var o=e;$(this).hide(),0==$(this).parent(".select-block").length?$(this).wrap("<div class='select-block "+$(this).attr("class")+"-select-block'></div>"):$(this).parent(".select-block").find(".select").remove();var r,s,n="",a="",l=$(this).parent(".select-block"),c="<div class='select-options'><div class='select-options-scroll'><div class='select-options-list'>";"multiple"==$(this).attr("multiple")&&(n="multiple",a="check"),$.each($(this).find("option"),(function(e,t){""!=$(this).attr("value")?c=c+"<div data-value='"+$(this).attr("value")+"' class='select-options__value_"+o+" select-options__value value_"+$(this).val()+" "+$(this).attr("class")+" "+a+"'>"+$(this).html()+"</div>":"on"==$(this).parent().attr("data-label")&&0==l.find(".select__label").length&&l.prepend('<div class="select__label">'+$(this).html()+"</div>")})),c+="</div></div></div>","search"==$(this).attr("data-type")?(l.append("<div data-type='search' class='select_"+o+" select "+$(this).attr("class")+"__select "+n+"'><div class='select-title'><div class='select-title__arrow ion-ios-arrow-down'></div><input data-value='"+$(this).find('option[selected="selected"]').html()+"' class='select-title__value value_"+$(this).find('option[selected="selected"]').val()+"' /></div>"+c+"</div>"),$(".select_"+o).find("input.select-title__value").jcOnPageFilter({parentSectionClass:"select-options_"+o,parentLookupClass:"select-options__value_"+o,childBlockClass:"select-options__value_"+o})):l.append("<div class='select_"+o+" select "+$(this).attr("class")+"__select "+n+"'><div class='select-title'><div class='select-title__arrow ion-ios-arrow-down'></div><div class='select-title__value value_"+$(this).find('option[selected="selected"]').val()+"'>"+$(this).find('option[selected="selected"]').html()+"</div></div>"+c+"</div>"),""!=$(this).find('option[selected="selected"]').val()&&l.find(".select").addClass("focus"),"on"==$(this).attr("data-req")&&$(this).addClass("req"),$(".select_"+o+" .select-options-scroll").niceScroll(".select-options-list",(r=100,s=50,t.any()&&(r=10,s=1),{cursorcolor:"#2078e5",cursorwidth:"3px",background:"",autohidemode:!1,bouncescroll:!1,cursorborderradius:"0px",scrollspeed:r,mousescrollstep:s,directionlockdeadzone:0,cursorborder:"0px solid #fff"}))}))}e(),$("body").on("keyup","input.select-title__value",(function(){$(".select").not($(this).parents(".select")).removeClass("active").find(".select-options").slideUp(50),$(this).parents(".select").addClass("active"),$(this).parents(".select").find(".select-options").slideDown(50,(function(){$(this).find(".select-options-scroll").getNiceScroll().resize()})),$(this).parents(".select-block").find("select").val("")})),$("body").on("click",".select",(function(){$(this).hasClass("disabled")||($(".select").not(this).removeClass("active").find(".select-options").slideUp(50),$(this).toggleClass("active"),$(this).find(".select-options").slideToggle(50,(function(){$(this).find(".select-options-scroll").getNiceScroll().resize()})),"search"==$(this).attr("data-type")&&($(this).hasClass("active")||s(),$(this).find(".select-options__value").show()))})),$("body").on("click",".select-options__value",(function(){if($(this).parents(".select").hasClass("multiple"))return $(this).hasClass("active")?($(this).parents(".select").find(".select-title__value span").length>0?$(this).parents(".select").find(".select-title__value").append('<span data-value="'+$(this).data("value")+'">, '+$(this).html()+"</span>"):($(this).parents(".select").find(".select-title__value").data("label",$(this).parents(".select").find(".select-title__value").html()),$(this).parents(".select").find(".select-title__value").html('<span data-value="'+$(this).data("value")+'">'+$(this).html()+"</span>")),$(this).parents(".select-block").find("select").find("option").eq($(this).index()+1).prop("selected",!0),$(this).parents(".select").addClass("focus")):($(this).parents(".select").find(".select-title__value").find('span[data-value="'+$(this).data("value")+'"]').remove(),0==$(this).parents(".select").find(".select-title__value span").length&&($(this).parents(".select").find(".select-title__value").html($(this).parents(".select").find(".select-title__value").data("label")),$(this).parents(".select").removeClass("focus")),$(this).parents(".select-block").find("select").find("option").eq($(this).index()+1).prop("selected",!1)),!1;"search"==$(this).parents(".select").attr("data-type")?($(this).parents(".select").find(".select-title__value").val($(this).html()),$(this).parents(".select").find(".select-title__value").attr("data-value",$(this).html())):($(this).parents(".select").find(".select-title__value").attr("class","select-title__value value_"+$(this).data("value")),$(this).parents(".select").find(".select-title__value").html($(this).html())),$(this).parents(".select-block").find("select").find("option").removeAttr("selected"),""!=$.trim($(this).data("value"))?($(this).parents(".select-block").find("select").val($(this).data("value")),$(this).parents(".select-block").find("select").find('option[value="'+$(this).data("value")+'"]').attr("selected","selected")):($(this).parents(".select-block").find("select").val($(this).html()),$(this).parents(".select-block").find("select").find('option[value="'+$(this).html()+'"]').attr("selected","selected")),""!=$(this).parents(".select-block").find("select").val()?$(this).parents(".select-block").find(".select").addClass("focus"):($(this).parents(".select-block").find(".select").removeClass("focus"),$(this).parents(".select-block").find(".select").removeClass("err"),$(this).parents(".select-block").parent().removeClass("err"),$(this).parents(".select-block").removeClass("err").find(".form__error").remove()),""!=!$(this).parents(".select").data("tags")&&0==$(this).parents(".form-tags").find('.form-tags__item[data-value="'+$(this).data("value")+'"]').length&&$(this).parents(".form-tags").find(".form-tags-items").append('<a data-value="'+$(this).data("value")+'" href="" class="form-tags__item">'+$(this).html()+'<span class="fa fa-times"></span></a>'),$(this).parents(".select-block").find("select").change(),"on"==$(this).parents(".select-block").find("select").data("update")&&e()})),$(document).on("click touchstart",(function(e){$(e.target).is(".select *")||$(e.target).is(".select")||($(".select").removeClass("active"),$(".select-options").slideUp(50,(function(){})),s())})),$(document).on("keydown",(function(e){27==e.which&&($(".select").removeClass("active"),$(".select-options").slideUp(50,(function(){})),s())}))}function i(e,t){e.find(".rating__activeline").css({width:t+"%"})}$("input,textarea").focus((function(){$(this).val()==$(this).attr("data-value")&&($(this).addClass("focus"),$(this).parent().addClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","password"),$(this).val("")),o($(this))})),$("input[data-value], textarea[data-value]").each((function(){""!=this.value&&this.value!=$(this).attr("data-value")||(this.value=$(this).attr("data-value"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),this.value!=$(this).attr("data-value")&&""!=this.value&&($(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).hasClass("l")&&0==$(this).parent().find(".form__label").length&&$(this).parent().append('<div class="form__label">'+$(this).attr("data-value")+"</div>")),$(this).click((function(){this.value==$(this).attr("data-value")&&("pass"==$(this).attr("data-type")&&$(this).attr("type","password"),this.value="")})),$(this).blur((function(){""==this.value&&(this.value=$(this).attr("data-value"),$(this).removeClass("focus"),$(this).parent().removeClass("focus"),"pass"==$(this).attr("data-type")&&$(this).attr("type","text"))}))})),$(".form-input__viewpass").click((function(e){$(this).hasClass("active")?$(this).parent().find("input").attr("type","password"):$(this).parent().find("input").attr("type","text"),$(this).toggleClass("active")})),$.each($("input.phone"),(function(e,t){$(this).attr("type","tel"),$(this).focus((function(){$(this).inputmask("+7(999) 999 9999",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){r($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")}))})),$("input.phone").focusout((function(e){r($(this))})),$.each($("input.num"),(function(e,t){$(this).focus((function(){$(this).inputmask("9{1,1000}",{clearIncomplete:!0,placeholder:"",clearMaskOnLostFocus:!0,onincomplete:function(){r($(this))}}),$(this).addClass("focus"),$(this).parent().addClass("focus"),$(this).parent().removeClass("err"),$(this).removeClass("err")}))})),$("input.num").focusout((function(e){r($(this))})),$.each($(".check"),(function(e,t){1==$(this).find("input").prop("checked")&&$(this).addClass("active")})),$("body").off("click",".check",(function(e){})),$("body").on("click",".check",(function(e){$(this).hasClass("disable")||($(e.target).is("a")||($(this).toggleClass("active"),$(this).hasClass("active")?$(this).find("input").prop("checked",!0):$(this).find("input").prop("checked",!1)))})),$.each($(".option.active"),(function(e,t){$(this).find("input").prop("checked",!0)})),$(".option").click((function(e){$(this).hasClass("disable")||($(this).hasClass("active")&&$(this).hasClass("order")&&$(this).toggleClass("orderactive"),$(this).parents(".options").find(".option").removeClass("active"),$(this).toggleClass("active"),$(this).children("input").prop("checked",!0))})),$(".rating.edit .star").hover((function(){var e=$(this).parents(".rating");e.find(".rating__activeline").css({width:"0%"});var t=($(this).index()+1)/e.find(".star").length*100;i(e,t)}),(function(){var e=$(this).parents(".rating");e.find(".star").removeClass("active");var t=e.find("input").val()/e.find(".star").length*100;i(e,t)})),$(".rating.edit .star").click((function(e){var t=$(this).parents(".rating"),o=$(this).index()+1;t.find("input").val(o);var r=o/t.find(".star").length*100;i(t,r)})),$.each($(".rating"),(function(e,t){var o=$(this).find("input").val()/$(this).parent().find(".star").length*100;i($(this),o)})),$(".quantity__btn").click((function(e){var t=parseInt($(this).parent().find(".quantity__input").val());return $(this).hasClass("dwn")?(t-=1)<1&&(t=1):t+=1,$(this).parent().find(".quantity__input").val(t),!1})),$("#range").length>0&&($("#range").slider({range:!0,min:0,max:5e3,values:[0,5e3],slide:function(e,t){$("#rangefrom").val(t.values[0]),$("#rangeto").val(t.values[1]),$(this).find(".ui-slider-handle").eq(0).html("<span>"+t.values[0]+"</span>"),$(this).find(".ui-slider-handle").eq(1).html("<span>"+t.values[1]+"</span>")},change:function(e,t){t.values[0]!=$("#range").slider("option","min")||t.values[1]!=$("#range").slider("option","max")?$("#range").addClass("act"):$("#range").removeClass("act")}}),$("#rangefrom").val($("#range").slider("values",0)),$("#rangeto").val($("#range").slider("values",1)),$("#range").find(".ui-slider-handle").eq(0).html("<span>"+$("#range").slider("option","min")+"</span>"),$("#range").find(".ui-slider-handle").eq(1).html("<span>"+$("#range").slider("option","max")+"</span>"),$("#rangefrom").bind("change",(function(){1*$(this).val()>1*$("#range").slider("option","max")&&$(this).val($("#range").slider("option","max")),1*$(this).val()<1*$("#range").slider("option","min")&&$(this).val($("#range").slider("option","min")),$("#range").slider("values",0,$(this).val())})),$("#rangeto").bind("change",(function(){1*$(this).val()>1*$("#range").slider("option","max")&&$(this).val($("#range").slider("option","max")),1*$(this).val()<1*$("#range").slider("option","min")&&$(this).val($("#range").slider("option","min")),$("#range").slider("values",1,$(this).val())})),$("#range").find(".ui-slider-handle").eq(0).addClass("left"),$("#range").find(".ui-slider-handle").eq(1).addClass("right")),$(".form-addfile__input").change((function(e){if(""!=$(this).val()){var t=$(this);t.parents(".form-addfile").find("ul.form-addfile-list").html(""),$.each(e.target.files,(function(i,o){0==t.parents(".form-addfile").find('ul.form-addfile-list>li:contains("'+e.target.files[i].name+'")').length&&t.parents(".form-addfile").find("ul.form-addfile-list").append("<li>"+e.target.files[i].name+"</li>")}))}}))}(),$("form button[type=submit]").click((function(){var e=0,t=$(this).parents("form"),r=t.data("ms");return $.each(t.find(".req"),(function(t,r){e+=function(e){var t=0,r=e.parents("form");if("email"==e.attr("name")||e.hasClass("email")){if(e.val()!=e.attr("data-value")){var s=e.val().replace(" ","");e.val(s)}/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(e.val())&&e.val()!=e.attr("data-value")?o(e):(t++,i(e))}else""==e.val()||e.val()==e.attr("data-value")?(t++,i(e)):o(e);"checkbox"==e.attr("type")&&(1==e.prop("checked")?e.removeClass("err").parent().removeClass("err"):(t++,e.addClass("err").parent().addClass("err")));e.hasClass("name")&&(/^[А-Яа-яa-zA-Z-]+( [А-Яа-яa-zA-Z-]+)$/.test(e.val())||(t++,i(e)));e.hasClass("pass-2")&&(r.find(".pass-1").val()!=r.find(".pass-2").val()?i(e):o(e));return t}($(this))})),0==e&&(function(e){e.find(".form__generalerror").hide().html("")}(t),null!=r&&""!=r?(function(e){$(".popup").hide(),d("message."+e,"")}(r),!1):void 0)})),(t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}}).any(),location.hash){var n=location.hash.replace("#","");$(".popup-"+n).length>0?d(n):$("div."+n).length>0&&$("body,html").animate({scrollTop:$("div."+n).offset().top},500,(function(){}))}$(".wrapper").addClass("loaded");var a,l,c;if(t.iOS());function d(e,i){$(".popup").removeClass("active").hide(),$(".header-menu").hasClass("active")||$("body").data("scroll",$(window).scrollTop()),t.any()?setTimeout((function(){$("body").addClass("lock")}),300):($("body").css({paddingRight:$(window).outerWidth()-$(".wrapper").outerWidth()}).addClass("lock"),$(".pdb").css({paddingRight:$(window).outerWidth()-$(".wrapper").outerWidth()})),history.pushState("","","#"+e),""!=i&&null!=i&&$(".popup-"+e+" .popup-video__value").html('<iframe src="https://www.youtube.com/embed/'+i+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'),$(".popup-"+e).fadeIn(300).delay(300).addClass("active"),$(".popup-"+e).find(".slick-slider").length>0&&$(".popup-"+e).find(".slick-slider").slick("setPosition")}function u(){$(".popup").removeClass("active").fadeOut(300),$(".header-menu").hasClass("active")||(t.any()?($("body").removeClass("lock"),$("body,html").scrollTop(parseInt($("body").data("scroll")))):(setTimeout((function(){$("body").css({paddingRight:0}),$(".pdb").css({paddingRight:0})}),200),setTimeout((function(){$("body").removeClass("lock"),$("body,html").scrollTop(parseInt($("body").data("scroll")))}),200))),$(".popup-video__value").html(""),history.pushState("","",window.location.href.split("#")[0])}function h(){var e=$(window).outerHeight();$(".mainblock").css("min-height",e)}$(".header-menu__icon").click((function(e){$(this).toggleClass("active"),$(".header-menu").toggleClass("active"),$(this).hasClass("active")&&$("body").data("scroll",$(window).scrollTop()),$("body").toggleClass("lock"),$(this).hasClass("active")||$("body,html").scrollTop(parseInt($("body").data("scroll")))})),$(".gallery").length>0&&baguetteBox.run(".gallery",{}),$(".pl").click((function(e){return d($(this).attr("href").replace("#",""),$(this).data("vid")),!1})),$(".popup-close,.popup__close").click((function(e){return u(),!1})),$(".popup").click((function(e){if(!$(e.target).is(".popup>.popup-table>.cell *")||$(e.target).is(".popup-close")||$(e.target).is(".popup__close"))return u(),!1})),$(document).on("keydown",(function(e){27==e.which&&u()})),$(".goto").click((function(){var e=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+e).offset().top+0},500,(function(){})),$(".header-menu").hasClass("active")&&($(".header-menu,.header-menu__icon").removeClass("active"),$("body").removeClass("lock")),!1})),$.each($(".ibg"),(function(e,t){$(this).find("img").length>0&&$(this).css("background-image",'url("'+$(this).find("img").attr("src")+'")')})),$(document).on("click touchstart",(function(e){$(e.target).is(".select *")||$(".select").removeClass("active")})),$(window).scroll((function(){$(window).width();$(window).scrollTop()>50?$("#up").fadeIn(300):$("#up").fadeOut(300)})),$("#up").click((function(e){$("body,html").animate({scrollTop:0},300)})),$("body").on("click",".tab__navitem",(function(e){var t=$(this).index();if($(this).hasClass("parent"))t=$(this).parent().index();$(this).hasClass("active")||($(this).closest(".tabs").find(".tab__navitem").removeClass("active"),$(this).addClass("active"),$(this).closest(".tabs").find(".tab__item").removeClass("active").eq(t).addClass("active"),$(this).closest(".tabs").find(".slick-slider").length>0&&$(this).closest(".tabs").find(".slick-slider").slick("setPosition"))})),$.each($(".spoller.active"),(function(e,t){$(this).next().show()})),$("body").on("click",".spoller",(function(e){return $(this).hasClass("mob")&&!t.any()||($(this).hasClass("closeall")&&!$(this).hasClass("active")&&$.each($(this).closest(".spollers").find(".spoller"),(function(e,t){$(this).removeClass("active"),$(this).next().slideUp(300)})),$(this).toggleClass("active").next().slideToggle(300,(function(e,t){$(this).parent().find(".slick-slider").length>0&&$(this).parent().find(".slick-slider").slick("setPosition")}))),!1})),-1!=navigator.appVersion.indexOf("Mac")||$(".scroll-body").length>0&&$(".scroll-body").niceScroll(".scroll-list",(a=100,l=50,c=!1,t.any()&&(a=10,l=1,c=!0),{cursorcolor:"#fff",cursorwidth:"4px",background:"",autohidemode:!0,cursoropacitymax:.4,bouncescroll:c,cursorborderradius:"0px",scrollspeed:a,mousescrollstep:l,directionlockdeadzone:0,cursorborder:"0px solid #fff"})),$(".t,.tip").length>0&&$(".t,.tip").webuiPopover({placement:"top",trigger:"hover",backdrop:!1,animation:"fade",dismissible:!0,padding:!1,onShow:function(e){},onHide:function(e){}}).on("show.webui.popover hide.webui.popover",(function(e){$(this).toggleClass("active")})),$(window).resize((function(e){h()})),h(),$(".filter__item").click((function(e){var t=$(this).data("filter");return 1==t?$(".portfolio__column").show():($(".portfolio__column").hide(),$(".portfolio__column.f_"+t).show()),$(".filter__item").removeClass("active"),$(this).addClass("active"),!1})),$(window).scroll((function(e){var t=0-$(this).scrollTop()/3;$(".mainblock__image").css("transform","translate3d(0, "+t+"px, 0)")}))}));